<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Énigme Échecs Sherlock Holmes</title>
<style>
  body {
    font-family: 'Georgia', serif;
    background: #f3e8c9 url('https://upload.wikimedia.org/wikipedia/commons/0/0e/Old_paper_background.jpg') repeat;
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 20px;
    color: #2a2a2a;
  }
  h1 {
    margin-bottom: 10px;
    font-size: 2.5rem;
    text-shadow: 2px 2px 4px rgba(0,0,0,0.4);
    text-align: center;
  }
  p {
    font-size: 1rem;
    margin-bottom: 15px;
    text-align: center;
  }
  .board-container {
    display: flex;
    align-items: center;
    background: rgba(255,255,255,0.85);
    padding: 10px;
    border: 2px solid #3b2f2f;
    border-radius: 8px;
    box-shadow: 0 0 15px rgba(0,0,0,0.3);
    flex-wrap: wrap;
  }
  table {
    border-collapse: collapse;
  }
  td {
    width: 8vw;
    height: 8vw;
    max-width: 60px;
    max-height: 60px;
    text-align: center;
    vertical-align: middle;
    border: 1px solid #3b2f2f;
  }
  .black {
    background-color: #3b2f2f;
    color: #fff;
  }
  .white {
    background-color: #f9f2e7;
    color: #000;
  }
  input {
    width: 100%;
    height: 100%;
    text-align: center;
    font-size: 1.2vw;
    max-font-size: 1.5rem;
    border: none;
    background: transparent;
    font-weight: bold;
    color: inherit;
  }
  .coords-row, .coords-column {
    display: flex;
    justify-content: center;
    align-items: center;
    font-weight: bold;
    font-size: 1rem;
    color: #3b2f2f;
  }
  .coords-column {
    flex-direction: column;
    justify-content: space-between;
    margin: 0 5px;
    height: 64vw;
    max-height: 480px;
  }
  .coord {
    width: 8vw;
    height: 8vw;
    max-width: 60px;
    max-height: 60px;
    text-align: center;
    line-height: 8vw;
  }
  button {
    padding: 10px 20px;
    font-size: 1rem;
    border-radius: 5px;
    border: none;
    background-color: #3b2f2f;
    color: white;
    cursor: pointer;
    box-shadow: 2px 2px 5px rgba(0,0,0,0.4);
    margin-top: 15px;
    transition: 0.2s;
  }
  button:hover {
    background-color: #2a2121;
  }
  #message {
    margin-top: 15px;
    font-size: 1.2rem;
    color: green;
    font-weight: bold;
    text-align: center;
  }
  #indice {
    font-size: 0.95rem;
    font-style: italic;
    margin-bottom: 10px;
    text-align: center;
  }
  @media(max-width: 600px){
    td, .coord {
      width: 10vw;
      height: 10vw;
      line-height: 10vw;
    }
    input {
      font-size: 3vw;
    }
    .coords-column {
      height: 80vw;
    }
    h1 {
      font-size: 2rem;
    }
    p {
      font-size: 0.9rem;
    }
  }
</style>
</head>
<body>
<h1>Énigme Échecs</h1>
<p id="indice">Indice : Chaque lettre correcte révèle un secret caché de Sherlock Holmes.</p>
<div class="coords-row" id="top-coords"></div>
<div class="board-container">
  <div class="coords-column" id="left-coords"></div>
  <table id="chessboard"></table>
  <div class="coords-column" id="right-coords"></div>
</div>
<div class="coords-row" id="bottom-coords"></div>
<button onclick="verifierSolution()">Vérifier</button>
<div id="message"></div>
<script>
const taille = 8;
const solution = [
  ['','','','','C','','',''],
  ['','','','H','','','',''],
  ['','','E','','','','',''],
  ['','','','','','','',''],
  ['','','','','L','','',''],
  ['','','','','','S','',''],
  ['','','','','','','E',''],
  ['','','','','','','','A']
];
const letters = ['a','b','c','d','e','f','g','h'];
const chessboard = document.getElementById('chessboard');
for(let i=0; i<taille; i++){
  const row = document.createElement('tr');
  for(let j=0; j<taille; j++){
    const cell = document.createElement('td');
    cell.className = (i+j)%2 === 0 ? 'white' : 'black';
    const input = document.createElement('input');
    input.setAttribute('maxlength','1');
    input.id = `cell-${i}-${j}`;
    cell.appendChild(input);
    row.appendChild(cell);
  }
  chessboard.appendChild(row);
}
const topCoords = document.getElementById('top-coords');
const bottomCoords = document.getElementById('bottom-coords');
const leftCoords = document.getElementById('left-coords');
const rightCoords = document.getElementById('right-coords');
for(let j=0; j<taille; j++){
  const coordTop = document.createElement('div');
  coordTop.className = 'coord';
  coordTop.textContent = letters[j];
  topCoords.appendChild(coordTop);
  const coordBottom = document.createElement('div');
  coordBottom.className = 'coord';
  coordBottom.textContent = letters[j];
  bottomCoords.appendChild(coordBottom);
}
for(let i=taille-1; i>=0; i--){
  const coordLeft = document.createElement('div');
  coordLeft.className = 'coord';
  coordLeft.textContent = i+1;
  leftCoords.appendChild(coordLeft);
  const coordRight = document.createElement('div');
  coordRight.className = 'coord';
  coordRight.textContent = i+1;
  rightCoords.appendChild(coordRight);
}
function verifierSolution(){
  let correct = true;
  for(let i=0; i<taille; i++){
    for(let j=0; j<taille; j++){
      const input = document.getElementById(`cell-${i}-${j}`);
      const val = input.value.toUpperCase();
      const sol = solution[i][j].toUpperCase();
      if(sol !== '' && val !== sol){
        correct = false;
      }
    }
  }
  const message = document.getElementById('message');
  message.textContent = correct ? 'Félicitations ! Vous avez résolu l’énigme et découvert le secret de Sherlock !' : 'Certaines lettres sont incorrectes. Continuez votre enquête !';
}
</script>
</body>
</html>
